name: Dependabot PR Manager
author: eamonnk418
description: Approve and auto-merge Dependabot pull requests selectively based on metadata and update type.
inputs:
  github-token:
    required: true
    description: "GitHub token for authentication."
    default: "false"
runs:
  using: "composite"
  steps:
    - name: Fetch Metadata from Dependabot PRs
      if: >
        ${{ github.event.pull_request.user.login == 'dependabot[bot]' && 
            github.event.pull_request.base.repo.full_name == github.repository }}
      id: dependabot-metadata
      uses: dependabot/fetch-metadata@dbb049abf0d677abbd7f7eee0375145b417fdd34 # v2.2.0
      with:
        alert-lookup: true
        compat-lookup: true
        github-token: ${{ inputs.github-token }}
